{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 32, "column": 0}, "map": {"version":3,"sources":["file:///home/engdemerdash/smart_faq/FAQ-Ai-System-iscore/src/images/iscore.png.mjs%20%28structured%20image%20object%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 168, height: 52, blurWidth: 8, blurHeight: 2, blurDataURL: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAYAAABllJ3tAAAATUlEQVR42gFCAL3/AC6ChlBVY2o6VFNaLlNRWCtYVmEwV1RfLWVgbTk/O0UgADB6f06SnqpkoZ6qYJmWolWfnKhieHaARZGOmWReXGU4AC4ZiEbMzt4AAAAASUVORK5CYII=\"};\n"],"names":[],"mappings":";;;AAAA;;uCACe;IAAE,KAAA,gHAAA,CAAA,UAAG;IAAE,OAAO;IAAK,QAAQ;IAAI,WAAW;IAAG,YAAY;IAAG,aAAa;AAA4M","debugId":null}},
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":["file:///home/engdemerdash/smart_faq/FAQ-Ai-System-iscore/src/app/chatpage/page.tsx"],"sourcesContent":["\"use client\";\nimport Image from 'next/image';\nimport { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useTheme } from 'next-themes';\n\n// FontAwesome\nimport { config } from '@fortawesome/fontawesome-svg-core';\nimport '@fortawesome/fontawesome-svg-core/styles.css';\nconfig.autoAddCss = false;\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faHouse, faPlus, faBars, faSun, faPaperPlane, faMagnifyingGlass, faLanguage, faThumbsUp, faThumbsDown } from '@fortawesome/free-solid-svg-icons';\n\n// Images\nimport iscore from '@/images/iscore.png';\n\n// Add the missing formatTime function\nconst formatTime = (date: Date): string => {\n  return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\n};\n\n// Add ChatBoxProps type definition\ntype ChatBoxProps = {\n  resetTrigger: number;\n  isArabic: boolean;\n  setIsArabic: (value: boolean) => void;\n};\n\n// Add session ID generation\nconst generateSessionId = () => {\n  return 'session_' + Math.random().toString(36).substr(2, 9) + '_' + Date.now();\n};\n\n// Bot reply logic with vacation query support\nconst botReply = async (userMessage: string, isArabic: boolean = true, sessionId: string, isCommonQuestion: boolean = false): Promise<{text: string, questionId: number | null, status: string}> => {\n  try {\n    const response = await fetch('http://localhost:5000/ask', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ \n        question: userMessage,\n        language: isArabic ? 'ar' : 'en',\n        session_id: sessionId,\n        is_common_question: isCommonQuestion  // NEW: Flag for dropdown clicks\n      }),\n    });\n    \n    if (!response.ok) {\n      throw new Error('Failed to get response from server');\n    }\n    \n    const data = await response.json();\n    \n    if (data.answers && data.answers.length > 0) {\n      return {\n        text: data.answers[0],\n        questionId: data.question_id || null,\n        status: data.status || 'answered'\n      };\n    } else {\n      return {\n        text: isArabic \n          ? 'ÿπÿ∞ÿ±Ÿãÿßÿå ŸÑŸÖ ÿ£ÿ¨ÿØ ÿ•ÿ¨ÿßÿ®ÿ© ŸÖŸÜÿßÿ≥ÿ®ÿ© ŸÑÿ≥ÿ§ÿßŸÑŸÉÿå ŸÑŸÇÿØ ÿ£ÿ±ÿ≥ŸÑŸÜÿß ÿ≥ÿ§ÿßŸÑŸÉ ŸÑŸÅÿ±ŸäŸÇŸÜÿß ŸÑŸÑÿ•ÿ¨ÿßÿ®ÿ© ÿπŸÑŸäŸá ŸÅŸä ÿ£ŸÇÿ±ÿ® ŸàŸÇÿ™ ŸÖŸÖŸÉŸÜ.'\n          : 'Sorry, I could not find a suitable answer to your question, we sent this question to our team to answer you as soon as possible.',\n        questionId: null,\n        status: 'pending'\n      };\n    }\n  } catch (error) {\n    console.error('Error calling FAQ API:', error);\n    return {\n      text: isArabic \n        ? 'ÿπÿ∞ÿ±Ÿãÿßÿå ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ŸÅŸä ÿßŸÑÿßÿ™ÿµÿßŸÑ ÿ®ÿßŸÑÿÆÿßÿØŸÖ. ÿ™ÿ£ŸÉÿØ ŸÖŸÜ ÿ™ÿ¥ÿ∫ŸäŸÑ ÿßŸÑÿÆÿßÿØŸÖ ÿπŸÑŸâ ÿßŸÑŸÖŸÜŸÅÿ∞ 5000.'\n        : 'Sorry, there was an error connecting to the server. Make sure the server is running on port 5000.',\n      questionId: null,\n      status: 'error'\n    };\n  }\n};\n\n// Update Message type\ntype Message = {\n  sender: 'user' | 'bot' | 'system';\n  text: string;\n  timestamp: string;\n  questionId?: number | null;\n  status?: string;\n};\n\n// Add Common Questions Component\nfunction CommonQuestionsDropdown({ isArabic, onQuestionSelect }: { \n  isArabic: boolean; \n  onQuestionSelect: (question: string) => void; \n}) {\n  const [isOpen, setIsOpen] = useState(false);\n  const [questions, setQuestions] = useState<Array<{id: string, text: string}>>([]);\n  const { theme } = useTheme();\n\n  useEffect(() => {\n    fetchCommonQuestions();\n  }, [isArabic]);\n\n  const fetchCommonQuestions = async () => {\n    try {\n      const response = await fetch(`http://localhost:5000/common-questions?language=${isArabic ? 'ar' : 'en'}`);\n      const data = await response.json();\n      setQuestions(data.questions || []);\n    } catch (error) {\n      console.error('Error fetching common questions:', error);\n    }\n  };\n\n  const handleQuestionClick = (questionText: string) => {\n    onQuestionSelect(questionText);\n    setIsOpen(false);\n  };\n\n  return (\n    <div className=\"relative\">\n      <button\n        onClick={() => setIsOpen(!isOpen)}\n        className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200 ${\n          theme === 'dark' \n            ? 'bg-gray-700 text-white hover:bg-gray-600' \n            : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n        }`}>\n        {isArabic ? 'ÿßŸÑÿ£ÿ≥ÿ¶ŸÑÿ© ÿßŸÑŸÖŸàÿ∏ŸÅŸäŸÜ ‚ñº' : 'Employee Specific Questions ‚ñº'}\n      </button>\n\n      {isOpen && (\n        <div className={`absolute bottom-full mb-2 w-85 rounded-lg shadow-lg border z-10 \n          ${theme === 'dark' ? 'bg-gray-800 border-gray-600' : 'bg-white border-gray-200'}\n          ${isArabic ? 'right-0.5' : 'left-0.5'}\n          `}>\n          <div className=\"p-2\">\n            <p className={`text-s font-medium mb-2 text-center pb-2 border-b-2  ${\n              theme === 'dark' ? 'text-gray-300 border-b-gray-600' : 'text-gray-600 border-b-gray-200'\n            }`}>\n              {isArabic ? 'ÿßÿÆÿ™ÿ± ÿ≥ÿ§ÿßŸÑ' : 'Select a question'}\n            </p>\n            {questions.map((question) => (\n              <button\n                key={question.id}\n                onClick={() => handleQuestionClick(question.text)}\n                className={`w-full p-2 text-sm rounded hover:transition-colors duration-200 \n                  ${theme === 'dark' ? 'hover:bg-gray-700 text-white' : 'hover:bg-gray-100 text-gray-700'}\n                  ${isArabic ? 'text-right' : 'text-left'}\n                `}>\n                {question.text}\n              </button>\n            ))}\n          </div>\n        </div>\n      )}\n\n    </div>\n  );\n}\n\n// ChatBox Component with vacation query support\nfunction ChatBox({ resetTrigger, isArabic, setIsArabic }: ChatBoxProps) {\n  const [messages, setMessages] = useState<Message[]>([]);\n  const [input, setInput] = useState<string>('');\n  const [isTyping, setIsTyping] = useState<boolean>(false);\n  const [feedback, setFeedback] = useState<{ [key: number]: 'up' | 'down' | null }>({});\n  const [feedbackMessage, setFeedbackMessage] = useState<{ [key: number]: string }>({});\n  const [mounted, setMounted] = useState(false);\n  const [sessionId] = useState(() => generateSessionId());\n\n  // Fix hydration issue\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  // Initialize chat when component mounts or language changes\n  useEffect(() => {\n    if (mounted) {\n      resetChat();\n    }\n  }, [resetTrigger, isArabic, mounted]);\n\n  const sendMessage = async (messageText?: string, isCommonQuestion: boolean = false): Promise<void> => {\n    const textToSend = messageText || input.trim();\n    if (textToSend === '') return;\n\n    const userMsg: Message = {\n      sender: 'user',\n      text: textToSend,\n      timestamp: formatTime(new Date())\n    };\n\n    setMessages((prev) => [...prev, userMsg]);\n    if (!messageText) setInput('');\n    setIsTyping(true);\n\n    try {\n      const { text: replyText, questionId, status } = await botReply(textToSend, isArabic, sessionId, isCommonQuestion);\n      const reply: Message = {\n        sender: 'bot',\n        text: replyText,\n        timestamp: formatTime(new Date()),\n        questionId: questionId,\n        status: status\n      };\n      setMessages((prev) => [...prev, reply]);\n    } catch (error) {\n      const errorReply: Message = {\n        sender: 'bot',\n        text: isArabic ? 'ÿπÿ∞ÿ±Ÿãÿßÿå ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ÿ£ÿ´ŸÜÿßÿ° ŸÖÿπÿßŸÑÿ¨ÿ© ÿ≥ÿ§ÿßŸÑŸÉ.' : 'Sorry, an error occurred while processing your question.',\n        timestamp: formatTime(new Date())\n      };\n      setMessages((prev) => [...prev, errorReply]);\n    } finally {\n      setIsTyping(false);\n    }\n  };\n\n  const handleKeyDown = (e: React.KeyboardEvent<HTMLInputElement>): void => {\n    if (e.key === 'Enter') {\n      e.preventDefault();\n      sendMessage();\n    }\n  };\n\n  const handleCommonQuestionSelect = (question: string) => {\n    sendMessage(question, true);  // Pass true for isCommonQuestion\n  };\n\n  // Update the handleFeedback function to use the correct parameter type\n  const handleFeedback = async (questionId: number, feedbackType: 'up' | 'down') => {\n    const currentFeedback = feedback[questionId];\n    const newFeedback = currentFeedback === feedbackType ? null : feedbackType;\n    \n    setFeedback(prev => ({\n      ...prev,\n      [questionId]: newFeedback\n    }));\n\n    console.log(`Feedback for question ID ${questionId} - ${newFeedback || 'removed'}`);\n    \n    // Send feedback to database if questionId exists\n    if (questionId && newFeedback !== null) {\n      try {\n        await fetch('http://localhost:5000/feedback', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({\n            question_id: questionId,\n            is_good: newFeedback === 'up'\n          }),\n        });\n        \n        console.log(`Feedback sent to database: ${newFeedback === 'up' ? 'positive' : 'negative'}`);\n        \n        // Show feedback message - PERSISTENT (no timeout removal)\n        const thankYouMessage = isArabic ? 'ÿ¥ŸÉÿ±ÿßŸã ŸÑŸÉ ÿπŸÑŸâ ÿ™ŸÇŸäŸäŸÖŸÉ!' : 'Thanks for your feedback!';\n        setFeedbackMessage(prev => ({\n          ...prev,\n          [questionId]: thankYouMessage\n        }));\n        \n      } catch (error) {\n        console.error('Error sending feedback:', error);\n        const errorMessage = isArabic ? 'ÿÆÿ∑ÿ£ ŸÅŸä ÿ•ÿ±ÿ≥ÿßŸÑ ÿßŸÑÿ™ŸÇŸäŸäŸÖ' : 'Error sending feedback';\n        setFeedbackMessage(prev => ({\n          ...prev,\n          [questionId]: errorMessage\n        }));\n        \n        // Clear error message after 3 seconds (keep error timeout)\n        setTimeout(() => {\n          setFeedbackMessage(prev => {\n            const newState = { ...prev };\n            if (newState[questionId] === errorMessage) {\n              delete newState[questionId];\n            }\n            return newState;\n          });\n        }, 3000);\n      }\n    } else if (newFeedback === null) {\n      // Only clear feedback message when feedback is completely removed (clicked same button twice)\n      setFeedbackMessage(prev => {\n        const newState = { ...prev };\n        delete newState[questionId];\n        return newState;\n      });\n    }\n  };\n\n  const resetChat = (): void => {\n    if (!mounted) return;\n    \n    const now = new Date();\n    const formattedDate = now.toLocaleDateString(undefined, {\n      weekday: 'short',\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric'\n    });\n  \n    setMessages([\n      {\n        sender: 'system',\n        text: `${formattedDate}`,\n        timestamp: formatTime(now)\n      },\n      {\n        sender: 'bot',\n        text: isArabic ? 'ŸÖÿ±ÿ≠ÿ®ÿßŸã! ŸÉŸäŸÅ ŸäŸÖŸÉŸÜŸÜŸä ŸÖÿ≥ÿßÿπÿØÿ™ŸÉÿü' : 'Hello! How can I help you?',\n        timestamp: formatTime(new Date())\n      }\n    ]);\n    \n    setFeedback({});\n    setFeedbackMessage({});\n  };\n\n  const { theme } = useTheme();\n\n  if (!mounted) {\n    return (\n      <div className=\"flex flex-col h-full justify-center items-center\">\n        <div className=\"text-gray-500\">Loading...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex flex-col h-full justify-between p-4\">\n      {/* Chat messages */}\n      <div className=\"flex-1 overflow-y-auto space-y-4 pr-2\">\n        {messages.map((msg, index) => (\n          msg.sender === 'system' ? (\n            <div key={index} className=\"flex justify-center my-4\">\n              <div className={`text-sm italic\n                        ${theme === 'dark' ? 'text-white' : 'text-gray-600'}`}>\n                ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ {msg.text} ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n              </div>\n            </div>\n          ) : (\n            <div key={index} className={`flex flex-col ${msg.sender === 'user' ? 'items-end' : 'items-start'}`}>\n              <div\n                className={`max-w-[70%] px-4 py-2 rounded-2xl shadow ${\n                  msg.sender === 'user' ? 'bg-[#4f3795] text-white' : 'bg-[#3ec1c7] text-white'\n                } ${isArabic ? 'rtl arabic-text' : 'ltr'}`}>\n                <p \n                  className={`${isArabic ? 'text-right' : 'text-left'} whitespace-pre-line`}\n                >\n                  {msg.text}\n                </p>\n              </div>\n              \n              {/* Feedback buttons for bot messages only (except vacation queries) */}\n              {msg.sender === 'bot' && (\n                <div className=\"flex items-center justify-between mt-2\">\n                  <div className=\"flex items-center space-x-2\">\n                    {/* Only show feedback buttons if there's a question_id (model responses) */}\n                    {msg.questionId && (\n                      <>\n                        <button\n                          onClick={() => handleFeedback(msg.questionId!, 'up')}  // Changed from true to 'up'\n                          className={`p-1 rounded transition-colors duration-200 ${\n                            feedback[msg.questionId!] === 'up'\n                              ? 'bg-green-500 text-white'\n                              : theme === 'dark' \n                                ? 'hover:bg-gray-600 text-gray-300 hover:text-green-400' \n                                : 'hover:bg-gray-200 text-gray-600 hover:text-green-600'\n                          }`}\n                          title={isArabic ? 'ŸÖŸÅŸäÿØ' : 'Helpful'}\n                        >\n                          üëç\n                        </button>\n                        <button\n                          onClick={() => handleFeedback(msg.questionId!, 'down')}  // Changed from false to 'down'\n                          className={`p-1 rounded transition-colors duration-200 ${\n                            feedback[msg.questionId!] === 'down'\n                              ? 'bg-red-500 text-white'\n                              : theme === 'dark' \n                                ? 'hover:bg-gray-600 text-gray-300 hover:text-red-400' \n                                : 'hover:bg-gray-200 text-gray-600 hover:text-red-600'\n                          }`}\n                          title={isArabic ? 'ÿ∫Ÿäÿ± ŸÖŸÅŸäÿØ' : 'Not helpful'}\n                        >\n                          üëé\n                        </button>\n                        \n                        {/* Show feedback message */}\n                        {feedbackMessage[msg.questionId!] && (\n                          <span className={`text-xs italic ml-2 ${\n                            theme === 'dark' ? 'text-green-400' : 'text-green-600'\n                          }`}>\n                            {feedbackMessage[msg.questionId!]}\n                          </span>\n                        )}\n                      </>\n                    )}\n                  </div>\n                  \n                  {/* Show timestamp */}\n                  <span className={`text-xs ${\n                    theme === 'dark' ? 'text-gray-400' : 'text-gray-500'\n                  }`}>\n                    {msg.timestamp}\n                  </span>\n                </div>\n              )}\n            </div>\n          )\n        ))}\n\n        {isTyping && (\n          <div className=\"flex justify-start\">\n            <div className={`main text-gray-200 px-4 py-2 rounded-2xl max-w-[70%] italic ${\n              isArabic ? 'text-right rtl arabic-text' : 'text-left ltr'\n            }`}>\n              {isArabic ? 'ÿ¨ÿßÿ±Ÿä ÿßŸÑÿ®ÿ≠ÿ´ÿå ÿ£ÿ±ÿ¨Ÿà ÿßŸÑÿßŸÜÿ™ÿ∏ÿßÿ±' : 'Searching, Please Wait'}\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Input with Common Questions Dropdown */}\n      <div className=\"mt-4 space-y-2\">\n        {/* Common Questions Dropdown */}\n        <div className={`flex ${isArabic ? 'justify-end' : 'justify-start'}`}>\n          <CommonQuestionsDropdown \n            isArabic={isArabic} \n            onQuestionSelect={handleCommonQuestionSelect}\n          />\n        </div>\n        \n        {/* Input */}\n        <div className={`flex items-center rounded-full p-2\n                        ${theme === 'dark' ? 'bg-[#4f3795] text-white' : 'bg-[#3ec1c7] text-white'}`}>\n          <FontAwesomeIcon className=\"ml-3 text-white\" icon={faMagnifyingGlass}/>\n          <input\n            type=\"text\"\n            placeholder={isArabic ? \"ŸÖÿß ŸáŸà ÿßÿ≥ÿ™ŸÅÿ≥ÿßÿ±ŸÉ\" : \"Ask About Anything...\"}\n            value={input}\n            onChange={(e) => setInput(e.target.value)}\n            onKeyDown={handleKeyDown}\n            className={`flex-1 focus:outline-none focus:ring-0 rounded-full px-4 py-1.5 text-white placeholder-white/70 ${\n              isArabic ? 'text-right rtl arabic-text' : 'text-left ltr'\n            }`}\n          />\n\n          <button onClick={() => sendMessage()} className={`ml-3 bg-white px-4 py-2 rounded-full transition \n                           ${theme === 'dark' ? 'text-[#4f3795] hover:bg-[#3ec1c7] hover:text-white' : 'text-[#3ec1c7] hover:bg-[#4f3795] hover:text-white '}`}>\n            <FontAwesomeIcon icon={faPaperPlane}/>\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// Main Page\nexport default function Home() {\n  const router = useRouter();\n  const [resetCounter, setResetCounter] = useState(0);\n  const [isArabic, setIsArabic] = useState(false);\n  const [mounted, setMounted] = useState(false);\n\n  // Fix hydration issue\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n  \n  const handleReset = () => {\n    setResetCounter(prev => prev + 1);\n  };\n\n  const toggleLanguage = () => {\n    const newLanguage = !isArabic;\n    if (typeof window !== 'undefined') {\n      localStorage.setItem('isArabic', newLanguage.toString());\n    }\n    window.location.reload();\n  };\n\n  // Load language preference from localStorage on component mount\n  useEffect(() => {\n    if (mounted && typeof window !== 'undefined') {\n      const savedLanguage = localStorage.getItem('isArabic');\n      if (savedLanguage !== null) {\n        setIsArabic(savedLanguage === 'true');\n      }\n    }\n  }, [mounted]);\n\n  const { theme, setTheme } = useTheme();\n\n  // Don't render until mounted to prevent hydration mismatch\n  if (!mounted) {\n    return (\n      <div className=\"h-screen flex items-center justify-center\">\n        <div className=\"text-gray-500\">Loading...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <div className={`h-screen flex flex-col items-center ${theme === 'dark' ? 'mainDARK' : 'main'}`}>\n        <div className=\"navBar h-[10%] w-[95%] flex flex-row items-center justify-center space-x-18 py-11\">\n          <div className='left flex gap-10 w-[30%] justify-center'>\n            <button type='button' className={`text-2xl ${theme === 'dark' ? 'iconsDARK' : 'icons'}`} onClick={() => router.push('/')}><FontAwesomeIcon icon={faHouse} /></button>\n            <button type='button' className={`text-2xl ${theme === 'dark' ? 'iconsDARK' : 'icons'}`} onClick={handleReset}><FontAwesomeIcon icon={faPlus}/></button>\n          </div>\n          <div className={`middle w-[30%] flex items-center justify-center gap-5\n                        ${isArabic ? 'flex-row-reverse' : 'flex-row'}`}>\n            <p className='font-bold text-white text-3xl'>{isArabic ? 'ÿ™ÿ≠ÿØÿ´ ŸÖÿπ' : 'Chat With'}</p>\n            <Image src={iscore} alt=\"iScore\" width={150} />\n          </div>\n          <div className='right w-[30%] flex justify-center gap-10'>\n            <button type='button' className={`text-2xl ${theme === 'dark' ? 'iconsDARK' : 'icons'}`} onClick={toggleLanguage}><FontAwesomeIcon icon={faLanguage}/></button>\n            <button type='button' className={`text-2xl ${theme === 'dark' ? 'iconsDARK' : 'icons'}`} onClick={() => setTheme(theme === 'dark' ? 'light' : 'dark')}><FontAwesomeIcon spin icon={faSun}/></button>\n            <button type='button' className={`text-2xl ${theme === 'dark' ? 'iconsDARK' : 'icons'}`}><FontAwesomeIcon icon={faBars}/></button>\n          </div>\n        </div>\n\n        {/* Chat Section */}\n        <div className={`chat h-[83%] w-[90%] rounded-4xl transition-colors duration-300\n                      ${theme === 'dark' ? 'bg-gray-800' : 'bg-gray-100'}`}>\n          <ChatBox resetTrigger={resetCounter} isArabic={isArabic} setIsArabic={setIsArabic}/>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}